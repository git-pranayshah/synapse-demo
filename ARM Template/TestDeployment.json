{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
      "valuts_objectid": {
        "defaultValue": "test3",
        "type": "String"
       },
        "vaults_synapse_metadata_name": {
            "defaultValue": "test",
            "type": "String"
        },
        "vaults_tenantid": {
            "defaultValue": "[subscription().tenantId]",
            "type": "String"
        },
        "workspaces_working_software_name": {
          "defaultValue": "swsynpse",
          "type": "String"
        }
    },
    "functions": [],
    "variables": {},
    "resources": [
        {
            "type": "Microsoft.Resources/deployments",
            "apiVersion": "2021-04-01",
              "name": "keyValt",
              "properties": {
                "mode": "Incremental",
                  "templateLink": {
                    "uri": "https://raw.githubusercontent.com/git-pranayshah/synapse-demo/dev/ARM%20Template/keyVault/keyvault.json"           
                  },
                    "parameters": {
                      "valuts_objectid": {
                        "value":"[reference(resourceId('Microsoft.Synapse/workspaces',concat(parameters('storageAccounts_workingswsynapse_name'), uniqueString(resourceGroup().id))]), '2018-06-01', 'Full').identity.principalId]"
                       },
                      "vaults_synapse_metadata_name": {
                        "value": "[parameters('vaults_synapse_metadata_name')]"
                    },
                    "vaults_tenantid": {
                        "value": "[parameters('vaults_tenantid')]"
                    }
                    
                  }
               }
          }

            
    ],
    "outputs": {
    }
  }